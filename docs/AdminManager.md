# AdminManager - –°–∏—Å—Ç–µ–º–∞ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è üë®‚Äçüíº

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

**AdminManager** - —ç—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è oracle, —Å–∏—Å—Ç–µ–º–æ–π –ø–∞—É–∑ –∏ –¥—Ä—É–≥–∏–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

## üéØ –û—Å–Ω–æ–≤–Ω–æ–µ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** –∫–æ–¥–∞ –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –°–æ—Å—Ç–æ—è–Ω–∏—è
```solidity
address public oracul;      // –ê–¥—Ä–µ—Å Oracle –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
bool public paused;         // –°—Ç–∞—Ç—É—Å –ø–∞—É–∑—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
```

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
```solidity
modifier onlyOracul() {
    require(msg.sender == oracul, "Only oracle can call this");
    _;
}

modifier whenNotPaused() {
    require(!paused, "Pausable: paused");
    _;
}
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏

### Oracle –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```solidity
function setOracul(address _oracul) external virtual;
```
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ Oracle
- **–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ Owner (—Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ –Ω–∞—Å–ª–µ–¥—É—é—â–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ)
- **–ó–∞—â–∏—Ç–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω—É–ª–µ–≤–æ–π –∞–¥—Ä–µ—Å

### –°–∏—Å—Ç–µ–º–∞ –ü–∞—É–∑
```solidity
function pause() external virtual;
function unpause() external virtual;
```
- **pause()**: –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- **unpause()**: –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- **–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ Owner

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```solidity
function __AdminManager_init(address _oracul) internal {
    require(_oracul != address(0), "Invalid oracle address");
    oracul = _oracul;
    paused = false;
}
```
**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- Oracle –∞–¥—Ä–µ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–ª–µ–≤—ã–º
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "–Ω–µ –Ω–∞ –ø–∞—É–∑–µ"

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏
```solidity
function _setOracul(address _oracul) internal {
    require(_oracul != address(0), "Invalid oracle address");
    address oldOracle = oracul;
    oracul = _oracul;
    emit OracleUpdated(oldOracle, _oracul);
}
```

## üìù –°–æ–±—ã—Ç–∏—è

```solidity
event OracleUpdated(address indexed oldOracle, address indexed newOracle);
event Paused();
event Unpaused();
```

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –°–æ–±—ã—Ç–∏–π
- **OracleUpdated**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π Oracle –∞–¥—Ä–µ—Å–∞
- **Paused/Unpaused**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞—É–∑—ã

## üìä View –§—É–Ω–∫—Ü–∏–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```solidity
function getAdminConfig() external view returns (address oracul_, bool paused_) {
    return (oracul, paused);
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞
```solidity
function isOperational() external view returns (bool operational) {
    return !paused;
}
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –¶–∏–∫–ª

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```
–ö–æ–Ω—Ç—Ä–∞–∫—Ç ‚Üí –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
    ‚Üì
Oracle ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–¥—Ä–µ—Å
    ‚Üì
–ü–∞—É–∑–∞ ‚Üí false (–∫–æ–Ω—Ç—Ä–∞–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω)
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Oracle
```
Owner ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç setOracul(newAddress)
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí –∞–¥—Ä–µ—Å –Ω–µ –Ω—É–ª–µ–≤–æ–π
    ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Üí oracul = newAddress
    ‚Üì
Event ‚Üí OracleUpdated
```

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–∞—É–∑–æ–π
```
Emergency ‚Üí Owner –≤—ã–∑—ã–≤–∞–µ—Ç pause()
    ‚Üì
–°–æ—Å—Ç–æ—è–Ω–∏–µ ‚Üí paused = true
    ‚Üì
–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ‚Üí –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å whenNotPaused –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
    ‚Üì
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Üí Owner –≤—ã–∑—ã–≤–∞–µ—Ç unpause()
```

## üèÜ –ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞ –Ω–∞—Å–ª–µ–¥—É—é—â–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
- –ì–∏–±–∫–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
- `onlyOracul` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è Oracle
- `whenNotPaused` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –ø–∞—É–∑–µ
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ª—é–±—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö

### Emergency Control
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø–∞—É–∑–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏–π
- –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ValoraCore

### –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
```solidity
contract ValoraCore is AdminManager {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    function setOracul(address _oracul) external override onlyOwner {
        _setOracul(_oracul);
    }
    
    function pause() external override onlyOwner {
        _pause();
    }
    
    function unpause() external override onlyOwner {
        _unpause();
    }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
```solidity
function rebase(uint256 amount) onlyOracul external {
    // –¢–æ–ª—å–∫–æ Oracle –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å rebase
}

function deposit(uint256 amount) whenNotPaused external {
    // –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–∞—É–∑–µ
}
```

## üõ†Ô∏è –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –û–¥–∏–Ω Oracle –¥–ª—è –≤—Å–µ—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è
- –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### Emergency Response
- –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É–≥—Ä–æ–∑—ã
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

## üìö –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–º–µ–Ω–∞ Oracle
```solidity
// –¢–æ–ª—å–∫–æ Owner –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å Oracle
valoraCore.setOracul(newOracleAddress);
```

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ü–∞—É–∑–∞
```solidity
// –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
valoraCore.pause();

// –ü–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
valoraCore.unpause();
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞
```solidity
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
if (valoraCore.isOperational()) {
    // –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
}
``` 