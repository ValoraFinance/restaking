# ValoraCore - –û—Å–Ω–æ–≤–Ω–æ–π –ö–æ–Ω—Ç—Ä–∞–∫—Ç üöÄ

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

**ValoraCore** - —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Valora Finance, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ liquid staking –¥–ª—è CELL —Ç–æ–∫–µ–Ω–æ–≤. –ö–æ–Ω—Ç—Ä–∞–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

ValoraCore –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:
- **ReentrancyGuardUpgradeable** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–µ–Ω—Ç—Ä–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- **UUPSUpgradeable** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- **OwnableUpgradeable** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
- **AdminManager** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **BridgeManager** - –∫—Ä–æ—Å—Å-—á–µ–π–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª  
- **WithdrawalManager** - —Å–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏

### –î–µ–ø–æ–∑–∏—Ç (Staking)
```solidity
function deposit(uint256 amount) external whenNotPaused nonReentrant
```
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç CELL —Ç–æ–∫–µ–Ω—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ bridge –Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã–π —á–µ–π–Ω –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—É
- –ú–∏–Ω—Ç–∏—Ç sCELL —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É

### Rebase (–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞)
```solidity
function rebase(uint256 amount) onlyOracul external
```
- –û–±–Ω–æ–≤–ª—è–µ—Ç –æ–±—â—É—é —Å—É–º–º—É –∞–∫—Ç–∏–≤–æ–≤ (totalAssets)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç exchange rate –¥–ª—è –≤—Å–µ—Ö –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π sCELL
- –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ oracle

### –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
```solidity
function requestWithdrawal(uint256 shares) external nonReentrant
function unstake(bytes32 requestHash) external nonReentrant
function approveWithdrawal(bytes32 requestHash) external onlyOwner
```
- –°–∏—Å—Ç–µ–º–∞ hash-based withdrawal –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å: –∑–∞–ø—Ä–æ—Å ‚Üí –æ–¥–æ–±—Ä–µ–Ω–∏–µ ‚Üí –≤—ã–≤–æ–¥

## üìä Exchange Rate –°–∏—Å—Ç–µ–º–∞

### –†–∞—Å—á–µ—Ç –∫—É—Ä—Å–∞
```solidity
function exchangeRate() public view returns (uint256) {
    uint256 supply = sCellToken.totalSupply();
    if (supply == 0) return 1e18;
    return (totalAssets * 1e18) / supply;
}
```

### –ü–µ—Ä–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–æ–∑–∏—Ç–µ: `1 CELL = 1 sCELL`

### –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–ø–æ–∑–∏—Ç—ã
```solidity
shares = (amount * totalSupply) / totalAssets
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
- `whenNotPaused` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –ø–∞—É–∑–µ
- `nonReentrant` - –∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–µ–Ω—Ç—Ä–∞–Ω—Ç–Ω–æ—Å—Ç–∏  
- `onlyOwner` - —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü
- `onlyOracul` - —Ç–æ–ª—å–∫–æ oracle

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç
```solidity
uint256 public constant MIN_DEPOSIT = 1e12; // 0.000001 —Ç–æ–∫–µ–Ω–æ–≤
```

## üåâ Bridge –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ –∑–∞—Å—Ç–µ–π–∫–∞–Ω–Ω—ã–µ CELL —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ bridge –Ω–∞:
- **Destination Chain**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `nativeChainId`
- **Validator Address**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `validatorAddress` 

## üìù –°–æ–±—ã—Ç–∏—è

```solidity
event Staked(address indexed user, uint256 amount);
event Rebased(uint256 totalShares, uint256 totalAssets);
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –¶–∏–∫–ª

1. **–î–µ–ø–æ–∑–∏—Ç**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí CELL —Ç–æ–∫–µ–Ω—ã ‚Üí Bridge ‚Üí –í–∞–ª–∏–¥–∞—Ç–æ—Ä ‚Üí sCELL —Ç–æ–∫–µ–Ω—ã
2. **Rebase**: Oracle ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç totalAssets ‚Üí —Ä–∞—Å—Ç–µ—Ç –∫—É—Ä—Å sCELL
3. **–ó–∞–ø—Ä–æ—Å –≤—ã–≤–æ–¥–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí —Å–∂–∏–≥–∞–µ—Ç sCELL ‚Üí —Å–æ–∑–¥–∞–µ—Ç withdrawal request
4. **–û–¥–æ–±—Ä–µ–Ω–∏–µ**: Owner ‚Üí –æ–¥–æ–±—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å
5. **–í—ã–≤–æ–¥**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ø–æ–ª—É—á–∞–µ—Ç CELL —Ç–æ–∫–µ–Ω—ã

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```solidity
function initialize(
    address _cellToken,      // –ê–¥—Ä–µ—Å CELL —Ç–æ–∫–µ–Ω–∞
    address _sCellToken,     // –ê–¥—Ä–µ—Å sCELL —Ç–æ–∫–µ–Ω–∞
    address _oracul,         // –ê–¥—Ä–µ—Å oracle
    address _bridge,         // –ê–¥—Ä–µ—Å bridge –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
    bytes3 _nativeChainId,   // ID –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —á–µ–π–Ω–∞
    bytes calldata _validatorAddress // –ê–¥—Ä–µ—Å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
) external initializer
```

### View –§—É–Ω–∫—Ü–∏–∏
- `exchangeRate()` - —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å –æ–±–º–µ–Ω–∞
- `getTotalAssets()` - –æ–±—â–∞—è —Å—É–º–º–∞ –∞–∫—Ç–∏–≤–æ–≤ –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º

## üèÜ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **Upgradeable**: –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å—Ä–µ–¥—Å—Ç–≤
- **Modular**: —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
- **Cross-chain**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CELL Frame —á–µ—Ä–µ–∑ bridge
- **Hash-based withdrawals**: –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∞
- **Instant liquidity**: sCELL —Ç–æ–∫–µ–Ω—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–æ–∑–∏—Ç–∞ 